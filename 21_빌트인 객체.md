# 21장 빌트인 객체

## 1️⃣ 21.1 자바스크립트 객체의 분류

- 자바스크립트 객체는 크게 3개의 객체로 분류

  1. 표준 빌트인 객체
     - ECMAScript 사양에 정의된 객체를 말하며, 애플리케이션 전역의 공통 기능을 제공
     - ECMAScript 사양에 정의된 객체이므로 자바스크립트 실행 환경과 관계없이 언제나 사용 가능
     - 전역 객체의 프로퍼티로서 제공
     - 따라서 별도의 선언없이 전역 변수처럼 언제나 참조 가능
  2. 호스트 객체
     - ECMAScript 사양에 정의되어 있지 않지만 자바스크립트 실행 환경에서 추가로 제공하는 객체
  3. 사용자 정의 객체
     - 표준 빌트인 객체와 호스트 객체처럼 기본 제공되는 객체가 아닌 사용자가 직접 정의한 객체

<br/>

## 2️⃣ 21.2 표준 빌트인 객체

- 자바스크립트는 Object, String, Number, Boolean, Symbol, JSON, Error 등 40여개의 표준 빌트인 객체를 제공
- Math, Reflect, JSON을 제외한 표준 빌트인 객체는 **모두 인스턴스를 생성할 수 있는 생성자 함수 객체**
- 생성자 함수 객체인 표준 빌트인 객체는 프로토타입 메서드와 정적 메서드를 제공
  - 생성자 함수인 표준 빌트인 객체가 생성한 인스턴스의 프로토타입은 표준 빌트인 객체의 `prototype 프로퍼티`에 바인딩된 객체
- 생성자 함수 객체가 아닌 표준 빌트인 객체는 정적 메서드만 제공

<br/>

## 3️⃣ 21.3 원시값과 래퍼 객체

<br/>

## 4️⃣ 21.4 전역 객체

- 전역 객체는 코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수 객체
- 어떤 객체에도 속하지 않은 최상위 객체
- 브라우저 환경에서는 `window`가 전역 객체
- Node.js 환경에서는 `global`이 전역 객체

> globalThis <br/>
> ECMAScript2020에서 도입된 globalThis는 브라우저 환경과 Node.js 환경에서 전역 객체를 가리키던 다양한 식별자를 통일한 식별자

- 전역 객체는 표준 빌트인 객체와 호스트 객체, 그리고 var 키워드로 선언한 전역 변수와 전역 함수를 프로퍼티르 가짐
- 즉, 전역 객체는 계층적 구조상 어떤 객체에도 속하지 않은 모든 빌트인 객체의 **최상위 객체**

  - 프로토타입 상속 관계상에서 최상위 객체라는 의미가 아닌, 어떤 객체의 프로퍼티도 아니며 객체의 계층적 구조상 표준 빌트인 객체와 호스트 객체를 소유한다는 것을 의미

- 전역 객체의 특징
  - 전역 객체는 개발자가 의도적으로 생성할 수 없음
    - 즉, 전역 객체를 생성할 수 있는 생성자 함수가 제공되지 않음
  - 전역 객체의 프로퍼티를 참조할 때 window 또는 global 생략 가능
  - 전역 객체는 모든 표준 빌트인 객체를 프로퍼티를 가지고 있음
  - 자바스크립트 실행 환경에 따라 추가적으로 프로퍼티와 메서드를 가짐
    - 브라우저 환경에서는 DOM, BOM, SVG, Web Storage와 같은 클라이언트 사이드 Web API를 호스트 객체로 제공
    - Node.js 환경에서는 Node.js 고유의 API를 호스트 객체로 제공
  - var 키워드로 선언한 전역 변수와 선언하지 않은 변수에 값을 할당한 암묵적 전역, 그리고 전역 함수는 전역 객체의 프로퍼티가 됨
  - 브라우저 환경의 모든 자바스크립트 코드는 하나의 전역 객체 window를 공유

### 📍 21.4.1 빌트인 전역 프로퍼티

- 빌트인 전역 프로퍼티는 전역 객체의 프로퍼티를 의미
- 주로 애플리케이션 전역에서 사용하는 값을 제공

<br/>

- `Infinity` : 무한대를 나타내는 숫자값 Infinity를 가짐
- `NaN` : 숫자가 아님을 나타내는 프로퍼티 (Not a Number)
- `undefined` : 원시 타입 undefined를 값으로 가짐

### 📍 21.4.2 빌트인 전역 함수

- 빌트인 전역 함수는 애플리케이션 전역에서 호출할 수 있는 빌트인 함수로서 전역 객체의 메서드

<br/>

- `eval` : 자바스크립트 코드를 나타내는 문자열을 인수로 받음
  - 전달받은 문자열 코드가 표현식이라면 eval 함수는 문자열 코드를 런타임에 평가하여 값을 생성
  - 전달받은 인수가 표현식이 아닌 문이라면 eval 함수는 문자열 코드를 런타임에 실행
- `isFinite` : 전달받은 인수가 정상적인 유한수인지 검사
  - 유한수이면 true 반환
  - 무한수이면 false 반환
  - 전달받은 인수의 타입이 숫자가 아닌 경우 숫자로 타입을 변환 후 검사 수행
    - 이떄 인수가 `NaN`으로 평가되는 값이라면 false 반환
- `isNaN` : 전달받은 인수가 `NaN`인지 검사하여 그 결과를 불리언 타입으로 반환
  - 전달받은 인수의 타입이 숫자가 아닌 경우 숫자로 타입을 변환한 후 검사 수행
- `parseFloat` : 전달받은 문자열 인수를 부동 소수점 숫자, 즉 실수로 해석하여 반환

- `parseInt` : 전달받은 문자열 인수를 정수로 해석하여 반환

- `encodeURI / decodeURI`

  - `encodeURI` : 완전한 URI를 문자열로 전달받아 이스케이프 처리를 위해 인코딩
  - `decodeURI` : 인코딩된 URI를 인수로 전달받아 이스케이프 처리 이전으로 디코딩

- `encodeURIComponent / decodeURIComponent`
  - `encodeURIComponent` : URI 구성 요소를 인수로 전달받아 인코딩
  - `decodeURIComponent` : 매개변수로 전달된 URI 구성 요소를 디코딩

### 📍 21.4.3 암묵적 전역

```
var x = 10; // 전역 변수

function foo() {
  // 선언하지 않은 식별자에 값을 할당
  y = 20; // window.y = 20;
}
foo();

// 선언하지 않은 식별자 y를 전역에서 참조할 수 있다.
console.log(x + y); // 30
```

- 선언하지 않은 식별자 y는 마치 선언된 전역 변수처럼 동작

  - 이는 선언하지 않은 식별자에 값을 할당하면 **전역 객체의 프로퍼티가 되기 때문**
  - 자바스크립트 엔진은 `y=20`을 `window.y=20`으로 해석하여 전역 객체에 프로퍼티를 동적으로 생성
  - 이러한 현상을 `암묵적 전역`이라고 함

- 하지만 y는 변수 선언없이 단지 전역 객체의 프로퍼티로 추가되었을 뿐이기 때문에, 변수가 아니므로 변수 호이스팅이 발생하지 않음

- 또한 변수가 아니기 때문에 `delete 연산자`로 삭제 가능
